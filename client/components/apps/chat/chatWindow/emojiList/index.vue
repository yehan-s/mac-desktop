<template>
  <div
    ref="emojiPanelRef"
    class="p-1 rounded-xl overflow-y-scroll chatlist w-[350px] h-[170px] text-2xl grid grid-cols-9 dark:bg-[#060606] bg-[#fcfcfc]"
    @click="selectEmoji($parent, $event)"
  >
    <!-- <transition-group name="fade" tag="div"> -->
    <span
      v-for="emoji in emojiList"
      :key="emoji"
      class="ml-1"
      :data-emoji="emoji"
    >
      {{ emoji }}
    </span>
    <!-- </transition-group> -->
  </div>
</template>

<script setup lang="ts">
import { defineExpose, defineEmits } from "vue";
const emit = defineEmits(["clickOutside"]);
const props = defineProps({
  dark: {
    type: Boolean,
    required: true,
  },
});

const emojiList = [
  "ðŸ˜€",
  "ðŸ˜‚",
  "ðŸ˜",
  "ðŸ¤”",
  "ðŸ¤£",
  "ðŸ¥°",
  "ðŸ˜Š",
  "ðŸ˜Ž",
  "ðŸ˜œ",
  "ðŸ˜˜",
  "ðŸ˜‹",
  "ðŸ˜‡",
  "ðŸ¤©",
  "ðŸ¤—",
  "ðŸ¤ª",
  "ðŸ¤«",
  "ðŸ¤­",
  "ðŸ¥³",
  "ðŸ¥º",
  "ðŸ¤¯",
  "ðŸ¤¡",
  "ðŸ¤ ",
  "ðŸ¤¢",
  "ðŸ¤®",
  "ðŸ¥´",
  "ðŸ¥µ",
  "ðŸ¥¶",
  "ðŸ¦¸",
  "ðŸ¦¹",
  "ðŸ¦·",
  "ðŸ¦´",
  "ðŸ¦¾",
  "ðŸ§ ",
  "ðŸ§",
  "ðŸ§‘",
  "ðŸ§’",
  "ðŸ§“",
  "ðŸ§”",
  "ðŸ§•",
  "ðŸ§–",
  "ðŸ§—",
  "ðŸ§˜",
  "ðŸ§™",
  "ðŸ§š",
  "ðŸ§›",
  "ðŸ§œ",
  "ðŸ§",
  "ðŸ§ž",
  "ðŸ§Ÿ",
  "ðŸ§ ",
  "ðŸ§¡",
  "ðŸ§¢",
  "ðŸ§£",
  "ðŸ§¤",
  "ðŸ§¥",
  "ðŸ§¦",
  "ðŸ§§",
  "ðŸ§¨",
  "ðŸ§©",
  "ðŸ§ª",
  "ðŸ§«",
  "ðŸ§¬",
  "ðŸ§­",
  "ðŸ§®",
  "ðŸ§¯",
  "ðŸ§°",
  "ðŸ§±",
  "ðŸ§²",
  "ðŸ§³",
  "ðŸ§´",
  "ðŸ§µ",
  "ðŸ§¶",
  "ðŸ§·",
  "ðŸ§¸",
  "ðŸ§¹",
  "ðŸ§º",
  "ðŸ§»",
  "ðŸ§¼",
  "ðŸ§½",
  "ðŸ§¾",
];

const selected = ref(true);

const selectEmoji = ($parent, $event) => {
  if ($event.target.tagName === "SPAN") {
    console.log("è¿›å…¥äº†ç‚¹å‡»");
    $parent.message =
      $parent.message + $event.target.getAttribute("data-emoji");
  }
  emit("clickOutside");
};

let emojiPanelRef = useClickOutside(() => {
  emit("clickOutside");
});

defineExpose({ selected });
</script>

<style>
.fade-enter-active,
.fade-leave-active {
  transition: opacity 0.5s;
}
.fade-enter,
.fade-leave-to {
  opacity: 0;
}
</style>
